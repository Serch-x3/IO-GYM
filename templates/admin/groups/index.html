{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}

<div class="container-fluid">
  <div class="row">
    <div class="col-3">
      <img class="mr-10" src="{% static "images/iogym_logo.png" %}" alt="iogym_logo" width="50%">
    </div>
    <div class="col" align="center">
      <h2 class="mt-5">Grupos</h2>
    </div>
    <div class="col-3 mt-5" align="center">
      <a type="button" class="btn btn-success" href="create">Nuevo</a>
      <a type="button" class="btn btn-primary" href="../../admin/index">Atrás</a>
    </div>
  </div>
</div>

<div class="container mt-2">
  <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Grupo</th>
          <th>Clases</th>
          <th>Entrenador</th>
          <th>Día</th>
          <th>Hora</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
      <!-- Recorremos los objetos o registros que tenemos en nuestra tabla 'clientss' y los listamos -->
      {% for groups in object_list %}
        <tr>
          <td>{{ groups.group_id}}</td>
          <td>{{ groups.gymclass_id }}</td>
          <td>{{ groups.trainer_id }}</td>
          <td>{{ groups.weekday_id }}</td>
          <td>{{ groups.hour_id}}</td>
          <td>
            <!-- Usaremos un formulario que realizará la tarea de eliminar un registro o clients desde la misma tabla HTML -->
            <form method="POST" action="delete/{{groups.group_id}}">
              {% csrf_token %}
              <div class="btn-group">

                <!-- Creamos 3 botones que son ver, Editar y Eliminar, nos sirven para gestionar nuestros registros o clientss -->
                <a href="detail/{{groups.group_id}}" title="Ver" class="btn btn-primary">Ver </a>
                <a href="edit/{{groups.group_id}}" title="Editar"class="btn btn-secondary">Editar </a>
                <button class="btn btn-danger" onclick="return eliminar();" type="submit">
                  Eliminar
                </button>
              </div>
            </form>
          </td>
        </tr>
      {% endfor %}

      </tbody>
    </table>
</div>

  <script type="text/javascript">
    function eliminar() {
      var x = confirm("¿Eliminar grupo?\nLos clientes y membresías relacionadas con este serán alteradas");
      if (x)
        return true;
      else
        return false;
    }
  </script>

{% endblock %}
